# Apache Configuration for Node.js App on Hostinger
# 
# IMPORTANT: Since Hostinger doesn't allow Apache proxy, use Hostinger's Node.js Manager instead!
# See HOSTINGER_NODEJS_MANAGER_SETUP.md for complete instructions.
#
# This .htaccess only serves static files for better performance.
# Node.js Manager handles all app requests directly (no proxy needed).

RewriteEngine On

# Serve static assets directly from web/dist/assets/ (CSS, JS, images)
# This improves performance by avoiding Node.js for static files
RewriteCond %{REQUEST_URI} ^/assets/
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^assets/(.*)$ /web/dist/assets/$1 [L]

# Serve other static files directly (CSS, JS, images, fonts, etc.)
RewriteCond %{REQUEST_FILENAME} -f
RewriteCond %{REQUEST_URI} \.(css|js|jpg|jpeg|png|gif|ico|svg|woff|woff2|ttf|eot)$ [NC]
RewriteRule ^(.*)$ - [L]

# All other requests are handled by Hostinger's Node.js Manager
# No proxy configuration needed - Node.js Manager exposes the app directly
#
# If you see 403 errors:
# 1. Use Hostinger's Node.js Manager (recommended) - see HOSTINGER_NODEJS_MANAGER_SETUP.md
# 2. Or contact Hostinger support to enable mod_proxy and mod_proxy_http
#
# If you must use proxy (not recommended on Hostinger), uncomment below:
# <IfModule mod_proxy.c>
#     ProxyPreserveHost On
#     ProxyPassReverse / http://localhost:3000/
#     RewriteCond %{REQUEST_FILENAME} !-f
#     RewriteCond %{REQUEST_FILENAME} !-d
#     RewriteRule ^(.*)$ http://localhost:3000/$1 [P,L]
# </IfModule>

